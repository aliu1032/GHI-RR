"0","PTV <- getPTV(DB_source_data, 1)"
"0","# build a table with criteria selection as the header"
"0","PA_Enum <- read.xlsx(paste(prep_file_path,'Enum.xlsx',sep=''), sheetName =""PA_ENUM"", colIndex=c(6), stringsAsFactors=FALSE, header=TRUE)"
"0","#iternate every option of Prior Authorization field, flatten the column"
"0","for (i in seq(1, length(PA_Enum$Enum))) {"
"0","    search_pattern <- PA_Enum$Enum[i]"
"0","    # if the Enum has (), need to prefixes with \ to include the () in search"
"0","    search_pattern <- sub(""\\("", ""\\\\("", search_pattern)"
"0","    search_pattern <- sub(""\\)"", ""\\\\)"", search_pattern)"
"0","    #print (search_pattern)"
"0","    "
"0","    # adding new column of T/F for each PA selection"
"0","    PTV[PA_Enum$Enum[i]] <- lapply(PTV['OSM_Prior_Authorization__c'], function(input) grepl(search_pattern, input, perl=TRUE))"
"0","    "
"0","    # PTV$Column is different from PTV['Column']"
"0","}"
"0","target <- ""PTV_Summary.txt"""
"0","write.table(PTV, paste(DB_source_data,target,sep=''), sep=""|"",row.names=FALSE, qmethod = ""double"", na="""")"
