"0","# reading QDX data"
"0","# prior authorization & status"
"0","QDX_PA <- getQDXPA(QDX_zip_data,0)"
"0","Cases <- getQDXCases('QDXClaim_CaseStatus', DB_source_data, 0)"
"1","[1]"
"1"," ""stdCases : reading Claim Cases status data  2018-01-19 16:18:03"""
"1","
"
"0","#OLI_detail"
"0","#OLIDetail <- getOLIDetail('Claim2Rev', folder, 0)"
"0","#call OLI_Claim2Rev.R to get the Claim2Rev dataset"
"0","# select the OLI entered since 2017-01-01 and Test Delivered date is not null"
"0","OLI_info <- Claim2Rev %>%"
"0","            dplyr::filter((OrderStartDate >= '2017-01-01') & !(is.na(TestDeliveredDate)))"
"0","#OLI_info <- OLIDetail %>%"
"0","#            filter((OrderStartDate >= '2017-01-01') & !(is.na(TestDeliveredDate))) %>%"
"0","#            select(OrderID, OLIID, Test, OrderStartDate, TestDeliveredDate, CurrentTicketNumber,"
"0","#                  Tier1Payor, Tier2Payor, Tier4Payor, FinancialCategory,"
"0","#                   Territory, TerritoryArea, TerritoryRegion,"
"0","#                   OrderingHCPState, OrderingHCPCountry, OrderingHCOState, OrderingHCOCountry, Specialty"
"0","#                   )"
"0","#OLICriteria <- getOLIDetail('utilization', folder,0)"
"0","# Cases have the OLI-QDXCaseNumber-QDXTicketNumber mapping. Cases have 0..1 PA Case"
"0","# join the PA case info to Cases."
"0","# priorAuth have cases that do not have ticket number. it can be because priorAuth case is not required and no priorAuthCase is opened, or ticket has not be issued or system do not update the issued ticket number (then ticket number = 0)"
"0","QDX_PA <- left_join(Cases, QDX_PA, by=c(""caseCaseNum""=""priorAuthCaseNum""))"
"0","# for output data set for users, remove the unused columns. These columns are useful for debugging."
"0","QDX_PA <- QDX_PA %>%"
"0","          select(-c(caseEntryYrMth, BillingCaseStatusSummary1, priorAuthTicketNum))"
"0","# in OLI_info, there are pre-claim and claim in progress status."
"0","# if ticket number is null, these are likely the pre-claim OLI"
"0","# when QDX process a claim, a ticket number is issued."
"0","# pull the case & PA status information if ticket is issued"
"0","PreClaim_Status <- left_join(OLI_info, QDX_PA, by=c(""OLIID""=""caseAccession"", ""CurrentTicketNumber""=""caseTicketNum""))"
"0","target = 'PreClaim_Status.txt'"
"0","write.table(PreClaim_Status, file = paste(folder,target,sep=""""), sep=""|"", row.names=FALSE, col.names=TRUE, na="""")"
